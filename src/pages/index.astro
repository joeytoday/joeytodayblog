---
import { Image } from 'astro:assets'
import links from 'public/links.json'

import { Quote } from 'astro-pure/advanced'
import { PostPreview } from 'astro-pure/components/pages'
import { getBlogCollection, sortMDByDate } from 'astro-pure/server'
import { Button, Card, Icon, Label } from 'astro-pure/user'
import PageLayout from '@/layouts/BaseLayout.astro'
import ProjectCard from '@/components/home/ProjectCard.astro'
import Section from '@/components/home/Section.astro'
import SkillLayout from '@/components/home/SkillLayout.astro'
import avatar from '@/assets/avatar.png'
import config from '@/site-config'

import ToolSection from '@/components/about/ToolSection.astro'
import { Svg } from 'astro-pure/user'
import { cn } from 'astro-pure/utils'
import FriendList from '@/components/links/FriendList.astro'

const languages = ['Html', 'JavaScript', 'CSS', 'Shell']
const frontend = ['TypeScript', 'Vite', 'Webpack', 'Astro']
const backend = ['Vercel', 'Waline']

const MAX_POSTS = 10
const allPosts = await getBlogCollection()
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS)

const { friends } = links
const linksConf = config.integ.links

---

<!-- 原始样式查看：https://astro-pure.js.org/ -->

<PageLayout meta={{ title: 'Home' }} highlightColor='#4AA32E' >
  <main class='flex w-full flex-col items-center'>
    <section class='animate mb-10 flex flex-col items-center gap-y-7' id='content-header'>
      <Image
        src={avatar}
        alt='profile'
        class='h-28 w-auto rounded-full border p-1'
        loading='eager'
      />

      <div class='flex flex-col items-center gap-y-4'>
        <h1 class='text-3xl font-bold'>{config.author}</h1>
        <div class='flex flex-wrap justify-center gap-x-7 gap-y-3'>
          <Label title='China'>
            <Icon name='location' class='size-5' slot='icon' />
          </Label>
          <Label
            title='Contact'
            as='a'
            href='mailto:huashi451@hotmail.com'
            target='_blank'
          >
            <Icon name='email' class='size-5' slot='icon' />
          </Label>

          <Label
            title='豆瓣'
            as='a'
            href='https://www.douban.com/people/147872735/'
            target='_blank'
          >
            <Icon name='hashtag' class='size-5' slot='icon' />
          </Label>

          <Label
            title='小红书'
            as='a'
            href='https://www.xiaohongshu.com/user/profile/59dda42e44363b2e63937e31'
            target='_blank'
          >
            <Icon name='tag-2' class='size-5' slot='icon' />
          </Label>

          {/*
          <Label
            title='Source code'
            as='a'
            href='https://github.com/joeytoday/astro-theme-pure'
            target='_blank'
          >
            <Icon name='github' class='size-5' slot='icon' />
          </Label>
          */}
        </div>
      </div>

      <!--头部按钮 Know More -->
      <a
        href='/about'
        target='_blank'
        class='flex flex-row items-center gap-x-3 rounded-full border bg-background px-4 py-2 text-sm shadow-sm transition-shadow hover:shadow-md'
      >
        <span class='relative flex items-center justify-center'>
          <span
            class='absolute size-2 animate-ping rounded-full border border-green-400 bg-green-400 opacity-75'
          ></span>
          <span class='size-2 rounded-full bg-green-400'></span>
        </span>
        <p class='font-medium text-muted-foreground' >More About Me</p>
      </a>

    </section>

    <br>

    
    {/* 关于我的介绍 */}    
    <div id='content' class='animate flex flex-col gap-y-10 md:w-4/5 lg:w-5/6'>
      
      <Section title='About'>
        <p class='text-muted-foreground'>👏 Welcome to my digital garden!</p>
        <p class='text-muted-foreground' style="line-height: 2;">
          🧰 工具控，爱折腾。熟练掌握 <strong>Notion、Obsidian</strong> 等工具。
          喜欢很多美丽而“无用”的事物， <strong>📖 书籍 & 🎬 电影 & 🎵 音乐</strong>，希望在这个世界寻找一点乐趣，
          也<strong>「诚心祝福你，捱得到新天地」</strong>。<br/>
          如果你是新朋友，欢迎关注我的公众号 👉<strong>「偶然时刻」</strong>。</br>
          🎧 来都来了，听首歌吧 🎧
        </p>

        <p style="text-align: center;" >
          <iframe 
          style="border: none; margin: 0;" 
          width=100%
          height=86 
          src="//music.163.com/outchain/player?type=2&id=2160371835&auto=1&height=66"/>
        </p>
        

        {/* 按钮 More */}
        <!-- <Button title=' More' class='w-fit self-end' href='/about' style='ahead' /> -->

      </Section>

      
      {/*我的项目/产品*/}
      <Section title='Pruducts'>
        <div class='grid grid-cols-1 gap-3 sm:grid-cols-2'>
          <ProjectCard
            href='https://www.xiaohongshu.com/discovery/item/686f48920000000017037b46?xsec_token=ABGSWRQXZpuOdav7ypGfUUzFBADkLuy_WZ0Wc6c1sxzrc'
            heading='📚 Notion模板｜图书管理'
            subheading='书名、作者、封面、简介、分类统计，读了什么书一目了然，成就感满满 get。'
            imagePath='/src/assets/projects/202508011634233.jpeg'
          />

          <ProjectCard
            href='https://www.xiaohongshu.com/explore/686f4cc50000000012022873?xsec_token=ABGSWRQXZpuOdav7ypGfUUzBOdLCELpL_7slncrxwwE94'
            heading='🟢 Notion模板｜习惯打卡热力图'
            subheading='微小习惯改变人生！按周、月、半年查看打卡记录，看见时间都去哪儿了～'
            imagePath='/src/assets/projects/202508011634053.jpeg'
          />
          
        </div>
        
        <Button title='More Products' class='w-fit self-end' href='/projects' style='ahead' />
      </Section>


      {
        allPostsByDate.length > 0 && (
          <Section title='Posts'>

            <ul class='flex flex-col gap-y-1.5 sm:gap-y-2'>
              {allPostsByDate.map((p) => (
                <li class='flex flex-col gap-x-2 sm:flex-row'>
                  <PostPreview post={p} detailed />
                </li>
              ))}
            </ul>
            <Button title='More Posts' class='w-fit self-end'href='/blog' style='ahead' />
          </Section>
        )
      }

    {/* 个人经历卡片 */}
      {/* <Section title='Experience'>
      <Card
        heading='Lorem Ipsum'
        subheading='Sit amet consectetur'
        date='Dec 2022 - Nov 2023'
        imagePath='/src/assets/about-astro.png'
        altText='Lorem, ipsum dolor sit'
        imageClass='h-12 w-auto md:-start-16'
      >
        <ul class='ms-4 list-disc text-muted-foreground'>
          <li>
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolore debitis recusandae, ut
            molestiae laboriosam pariatur!

            <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae, pariatur!</li>
          </li>
        </ul>
      </Card>
      <Card
        heading='Lorem Ipsum'
        subheading='Sit amet consectetur'
        date='Dec 2022 - Nov 2023'
        imagePath='/src/assets/about-astro.png'
        altText='Lorem, ipsum dolor sit'
        imageClass='h-12 w-auto md:-start-16'
      />
    </Section> 
    */}

  {/* 教育经历卡片 */}
      {/*
      <Section title='Education'>
        <Card
          as='a'
          heading='Lorem ipsum'
          subheading='Lorem ipsum dolor sit amet, vidit suscipit at mei.'
          date='August 2021 - July 2025'
          href='https://www.youtube.com/watch?v=dQw4w9WgXcQ'
        >

          <ul class='ms-4 list-disc text-muted-foreground'>
          <li>
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolore debitis recusandae, ut
            molestiae laboriosam pariatur!
          </li>
          <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae, pariatur!</li>
        </ul> 
        </Card>
      </Section>
      */}


      {/* 资格认证卡片 */}
      {/*
      <Section title='Certifications'>
        <Card
          as='a'
          heading='Lorem ipsum'
          subheading='Lorem ipsum dolor sit amet, vidit suscipit at mei. Quem denique mea id. Usu ei regione indoctum dissentiunt, cu meliore fuisset mei, vel quod voluptua ne. Ex dicat impedit mel, at eum oratio possit voluptatum. Dicat ceteros cu vim. Impetus fuisset ullamcorper pri cu, his posse iisque ad, aliquam honestatis usu id.'
          date='July 2024'
          href='https://www.youtube.com/watch?v=dQw4w9WgXcQ'
        />
      </Section>
      */}
      
      <Section title='Tools'>
      <!--    
        <SkillLayout title='Tools' skills={languages} />
        <SkillLayout title='Frontend' skills={frontend} />
        <SkillLayout title='Backend' skills={backend} /> 
      -->

        <ToolSection
          class='mb-5'
          title='Productivity'
          tools={[
            {
              name: 'Notion',
              description: '个人系统｜书影管理｜项目管理',
              href: 'https://www.notion.com/',
              icon: import('@/assets/tools/notion.svg?raw')
            },
            {
              name: 'Obsidian',
              description: '写作｜日记｜笔记｜思考',
              href: 'https://obsidian.md/',
              icon: import('@/assets/tools/obsidian.svg?raw')
            },
            {
              name: '微信读书',
              description: '丰富书库｜随处阅读',
              href: 'https://weread.qq.com/',
              icon: import('@/assets/tools/weread-logo.svg?raw')
            },
            {
              name: 'Readwise Reader',
              description: '网络文章稍后读｜订阅 RSS 源',
              href: 'https://readwise.io/read',
              icon: import('@/assets/tools/readwise-logo.svg?raw')
            },
            {
              name: 'Calflow',
              description: '时间记录｜日程管理｜原生 iOS 支持',
              href: 'https://calflow.app/',
              icon: import('@/assets/tools/calflow-logo.svg?raw')
            },
            {
              name: 'flomo',
              description: '碎片化记录｜洞察回顾｜灵感思考',
              href: 'https://flomoapp.com/',
              icon: import('@/assets/tools/flomo-logo.svg?raw')
            }
          ]}
        />

      </Section>

      <Section title='Social'>
      {/* social-networks 文件在 public/links.json */}
        <FriendList list={friends[3]} />
      </Section>

      </div>

    <!-- <Quote class='mt-12' title='世事何须多计较，神天自有大乘除。' /> -->

    <br>
    <br>

    <a
        href='/about'
        target='_blank'
        class='flex flex-row items-center gap-x-3 rounded-full border bg-background px-4 py-2 text-sm shadow-sm transition-shadow hover:shadow-md'
      >
        <span class='relative flex items-center justify-center'>
          <span
            class='absolute size-2 animate-ping rounded-full border border-green-400 bg-green-400 opacity-75'
          ></span>
          <span class='size-2 rounded-full bg-green-400'></span>
        </span>
        <p class='font-medium text-muted-foreground' >落花时节又逢君</p>
      </a>
  </main>
</PageLayout>
