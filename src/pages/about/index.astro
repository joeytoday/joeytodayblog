---
import links from 'public/links.json'
import config from 'virtual:config'

import { Image } from 'astro:assets';
import mpQrCode from '@/assets/mp-qr-code.jpg';
import doudou from '@/assets/doudou.jpeg'

import { Comment } from 'astro-pure/advanced'
import { Collapse, Spoiler, Timeline } from 'astro-pure/user'
import PageLayout from '@/layouts/CommonPage.astro'
import Substats from '@/components/about/Substats.astro'
import ToolSection from '@/components/about/ToolSection.astro'
import FriendList from '@/components/links/FriendList.astro'
import BooksDisplay from '@/components/BooksDisplay.astro';

// é¡µé¢æ ‡é¢˜é…ç½®
const headings = [
  { depth: 2, slug: 'hobbies', text: 'Hobbies' },
  { depth: 2, slug: 'tools', text: 'Tools' },
  { depth: 2, slug: 'social-networks', text: 'Social Networks' },
  { depth: 2, slug: 'gossips', text: 'Gossips' },
  { depth: 2, slug: 'about-blog', text: 'About Blog' }
]

const { friends } = links
const linksConf = config.integ.links
---

<PageLayout title='About Me å…³äºæˆ‘' {headings} info='/about'>

  <p>ğŸ‘ Welcome to my blog! æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï½</p>
  <p style="line-height: 2;">
    ç›¸è§å³æ˜¯ç¼˜åˆ†ï¼æ¬¢è¿æ¥åˆ°è¿™é‡Œã€‚<br/>
    ğŸ§° å·¥å…·æ§ï¼Œçˆ±æŠ˜è…¾ã€‚ç†Ÿç»ƒæŒæ¡ <strong>Notionã€Obsidian</strong> ç­‰å·¥å…·ã€‚
    å–œæ¬¢å¾ˆå¤šç¾ä¸½è€Œâ€œæ— ç”¨â€çš„äº‹ç‰©ï¼Œ <strong>ğŸ“– ä¹¦ç± & ğŸ¬ ç”µå½± & ğŸµ éŸ³ä¹</strong>ï¼Œ
    å¸Œæœ›åœ¨è¿™ä¸ªä¸–ç•Œå¯»æ‰¾ä¸€ç‚¹ä¹è¶£ï¼Œä¹Ÿ<strong>ã€Œè¯šå¿ƒç¥ç¦ä½ ï¼Œæ±å¾—åˆ°æ–°å¤©åœ°ã€</strong>ã€‚<br/>
    å¦‚æœä½ æ˜¯æ–°æœ‹å‹ï¼Œæ¬¢è¿æŸ¥çœ‹æ›´å¤šå…³äºæˆ‘çš„ä¿¡æ¯ï½æ¬¢è¿æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨æˆ‘çš„å…¬ä¼—å· ğŸ‘‡
  </p>
  
  <!-- å…¬ä¼—å·äºŒç»´ç ï¼šä¼˜åŒ–æ‰‹æœºç«¯è‡ªé€‚åº” -->
  <div style="text-align: center; margin: 15px 0;">
    <Image 
      src={mpQrCode} 
      width="200" 
      alt="å…¬ä¼—å·äºŒç»´ç " 
      class="mx-auto max-w-[80vw]"
      loading="lazy"
    />
  </div>

  <p>
    å¦‚æœæœ‰æ›´å¤šæƒ³è¯´çš„ï¼Œä¹Ÿå¯ä»¥ ğŸ“® <a href="mailto:joeytoday247@outmail.com">ç»™æˆ‘å‘é‚®ä»¶</a>
    <Spoiler> ğŸ‰ è¿™é‡Œæ˜¯å½©è›‹å†…å®¹ï¼šç¥ä½ ä»Šæ—¥å¼€å¿ƒï¼</Spoiler>
  </p>
  
  {/* éŸ³ä¹æ’­æ”¾å™¨ï¼šç§»åŠ¨ç«¯éšè—ï¼ˆæ ¸å¿ƒä¿®æ”¹ï¼šæ·»åŠ  media-player-container ç±»ï¼‰ */}
  <div class="media-player-container">
    <p>ğŸµ æ¥ä¸‹æ¥å¯ä»¥å¬ç€éŸ³ä¹ç»§ç»­çœ‹ï¼š</p>
    <div style="
      width: 100%; 
      max-width: 700px; 
      margin: 15px auto 0; 
      padding: 0;
      box-sizing: border-box;
      position: relative;
      min-width: 280px;
    ">
      <!-- ç½‘æ˜“äº‘æ­Œå•iframe -->
      <div>
        <iframe 
          src="https://music.163.com/outchain/player?type=0&id=13382956851&auto=0&height=280" 
          style="
            border: 1px solid #eee; 
            width: 100%; 
            height: 280px; 
            display: block; 
            border-radius: 8px;
            min-height: 260px;
            pointer-events: auto;
          "
          frameborder="0"
          allow="autoplay; encrypted-media"
          allowfullscreen="false"
          loading="lazy"
          title="æˆ‘çš„éŸ³ä¹æ¸…å•"
          sandbox="allow-scripts allow-same-origin allow-popups allow-pointer-lock"
          scrolling="no"
        ></iframe>
      </div>

      <!-- åŠ è½½çŠ¶æ€æç¤º -->
      <div id="musicLoader" style="
        position: absolute; 
        top: 0; 
        left: 0; 
        right: 0; 
        bottom: 0; 
        background: #fff; 
        border-radius: 8px; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        font-size: 14px; 
        color: #666;
        z-index: 1;
        opacity: 1;
        transition: opacity 0.3s ease;
      ">
        éŸ³ä¹æ¸…å•åŠ è½½ä¸­...</div>

      <!-- æ‰‹æœºç«¯æç¤ºï¼ˆç§»åŠ¨ç«¯ä¼šéšæ’­æ”¾å™¨ä¸€èµ·éšè—ï¼Œæ— éœ€é¢å¤–å¤„ç†ï¼‰ -->
      <p style="
        text-align: center; 
        font-size: 12px; 
        color: #888; 
        margin: 8px 0 0;
        padding: 0 10px;
      ">
        ç‚¹å‡»æ’­æ”¾æŒ‰é’®ï¼Œå¯åˆ‡æ¢æ­Œå•å†…æ­Œæ›² ğŸµ
      </p>
    </div>

    <!-- éŸ³ä¹æ’­æ”¾å™¨åŠ è½½æ§åˆ¶è„šæœ¬ 
    è§£å†³TypeScriptç±»å‹é”™è¯¯å’Œç§»åŠ¨ç«¯åŠ è½½é—®é¢˜
    åŒ…å«å¤šé‡åŠ è½½æ£€æµ‹æœºåˆ¶å’Œè¶…æ—¶å¤„ç†
    -->
    <script>
      // ç±»å‹æ–­è¨€ä¸ºHTMLIFrameElementè§£å†³ç±»å‹é”™è¯¯
      const musicIframe = document.querySelector('iframe[src*="music.163.com"]') as HTMLIFrameElement;
      const musicLoader = document.getElementById('musicLoader');

      if (musicIframe && musicLoader) {
        // ç›‘å¬iframeåŠ è½½å®Œæˆäº‹ä»¶
        musicIframe.onload = function() {
          musicLoader.style.opacity = '0';
          setTimeout(() => {
            musicLoader.style.display = 'none';
          }, 300);
        };

        // å®šæœŸæ£€æŸ¥iframeå†…å®¹åŠ è½½çŠ¶æ€
        const checkIframeLoaded = setInterval(() => {
          try {
            if (musicIframe.contentWindow && musicIframe.contentWindow.document.body) {
              musicLoader.style.opacity = '0';
              setTimeout(() => {
                musicLoader.style.display = 'none';
              }, 300);
              clearInterval(checkIframeLoaded);
            }
          } catch (e) {}
        }, 500);

        // è¶…æ—¶å¤„ç†æœºåˆ¶
        setTimeout(() => {
          if (musicLoader.style.display !== 'none') {
            musicLoader.innerHTML = 'åŠ è½½è¶…æ—¶ï¼Œç‚¹å‡»åˆ·æ–°é‡è¯•';
            musicLoader.style.color = '#ff4444';
            musicLoader.style.cursor = 'pointer';
            musicLoader.addEventListener('click', () => {
              musicIframe.src = musicIframe.src;
              musicLoader.innerHTML = 'é‡æ–°åŠ è½½ä¸­...';
              musicLoader.style.color = '#666';
            });
          }
          clearInterval(checkIframeLoaded);
        }, 8000);
      }
    </script>
  </div>


  {/* ä¸ªäººçˆ±å¥½éƒ¨åˆ† */}
  <h2 id='hobbies'>Hobbies æˆ‘çš„çˆ±å¥½</h2>
  <ul>
    <li>ğŸ“– å–œæ¬¢é˜…è¯»ä¸ç”µå½±ï¼Œç»å¸¸å†™éšç¬”ï¼Œä¹Ÿç»å¸¸æ”¾é¸½å­ã€‚çœ‹ä¸åˆ°æˆ‘çš„éšç¬”ï¼Œä¹Ÿæ¬¢è¿çœ‹çœ‹ğŸ‘‰<a href="https://note.joeytoday.com/">ğŸ“’ æˆ‘çš„ç¬”è®°</a></li>
    <li>âœˆï¸ å–œæ¬¢å®…å®¶ï¼Œä½†ä¹Ÿçˆ±æ—…è¡Œï¼Œè‹¥æœ‰å–œçˆ±çš„æœ‹å‹ç›¸ä¼´ï¼Œæ˜¯ç¾äº‹ä¸€æ¡©ï½</li>
    <li>ğŸˆ æ—¥å¸¸ J äººï¼Œå‡ºé—¨å°±å˜ Pï¼Œä¸»æ‰“ä¸€ä¸ªä»€ä¹ˆéƒ½è¡Œï¼Œå¼€å¿ƒå°±å¥½!</li>
    <li>ğŸµ å¾ˆçˆ±éŸ³ä¹ï¼Œåªè¦å¥½å¬ï¼è¿™é‡Œæ˜¯æˆ‘çš„æ¨èï¼Œå¦‚æœä½ ä¹Ÿæƒ³å¬å¬çœ‹ï½ğŸ‘‰<a href="https://joeytoday.notion.site/music">joeytodayçš„æ­Œå•</a></li>
    <li>ğŸˆ å®¶æœ‰å‚²å¨‡å°çŒ«ï¼Œåæ›°ã€Œå…œå…œã€ï¼Œä¸ç²˜äººä½†å–œæ¬¢äººï¼Œå–œæ¬¢è¢«æ‹æ‹ï¼Œä½†æœ€å–œæ¬¢æˆ‘ï¼ˆæˆ‘è‡ªå°ï¼‰ï¼Œé™„ä¸Šå…œå…œç¾ç…§ã€‚</li>
  </ul>

  {/* å°çŒ«å›¾ç‰‡å±•ç¤º */}
  <div style="text-align: center; margin: 15px 0; padding: 0 10px;">
    <Image 
      src={doudou} 
      width="700" 
      alt="å°çŒ«å…œå…œ" 
      class="mx-auto max-w-full"
      loading="lazy"
      style="border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
    />
  </div>

  {/* ä¹¦ç±ç”µå½±å¡ç‰‡ */}
  <BooksDisplay />

  {/* å·¥å…·å±•ç¤ºéƒ¨åˆ† */}
  <h2 id='tools'>Tools æˆ‘çš„å·¥å…·</h2>
  <p>Current support tools as follow:</p>

  <ToolSection
    class='mb-5'
    title='Productivity'
    tools={[
      {
        name: 'Notion',
        description: 'ä¸ªäººç³»ç»Ÿï½œä¹¦å½±ç®¡ç†ï½œé¡¹ç›®ç®¡ç†',
        href: 'https://joeytoday.notion.site/',
        icon: import('@/assets/tools/notion.svg?raw')
      },
      {
        name: 'Obsidian',
        description: 'å†™ä½œï½œæ—¥è®°ï½œç¬”è®°ï½œæ€è€ƒ',
        href: 'https://joeyposts.vercel.app/',
        icon: import('@/assets/tools/obsidian.svg?raw')
      },
      {
        name: 'å¾®ä¿¡è¯»ä¹¦',
        description: 'ä¸°å¯Œä¹¦åº“ï½œéšå¤„é˜…è¯»',
        href: 'https://weread.qq.com/',
        icon: import('@/assets/tools/weread-logo.svg?raw')
      },
      {
        name: 'Readwise Reader',
        description: 'ç½‘ç»œæ–‡ç« ç¨åè¯»ï½œè®¢é˜… RSS æº',
        href: 'https://readwise.io/read',
        icon: import('@/assets/tools/readwise-logo.svg?raw')
      },
      {
        name: 'Calflow',
        description: 'æ—¶é—´è®°å½•ï½œæ—¥ç¨‹ç®¡ç†ï½œåŸç”Ÿ iOS æ”¯æŒ',
        href: 'https://calflow.app/',
        icon: import('@/assets/tools/calflow-logo.svg?raw')
      },
      {
        name: 'flomo',
        description: 'ç¢ç‰‡åŒ–è®°å½•ï½œæ´å¯Ÿå›é¡¾ï½œçµæ„Ÿæ€è€ƒ',
        href: 'https://flomoapp.com/',
        icon: import('@/assets/tools/flomo-logo.svg?raw')
      }
    ]}
  />

  <ToolSection
    class='mb-5'
    title='Device'
    tools={[
      {
        name: 'ğŸ’» MacBook Air M3',
        description: 'Personal computer ä¸ªäººç”µè„‘',
        href: 'https://support.apple.com/zh-cn/118551',
        icon: import('@/assets/tools/apple.svg?raw')
      },
      {
        name: 'ğŸ“± iPhone 14 Pro',
        description: 'ä½¿ç”¨æ‰‹æœº',
        href: 'https://support.apple.com/zh-cn/111849',
        icon: import('@/assets/tools/iPhone.svg?raw')
      },
      {
        name: 'ğŸ“– iReader Ocean 3 Turbo',
        description: 'é˜…è¯»ç”µå­ä¹¦',
        href: 'https://item.jd.com/100046103416.html',
        icon: import('@/assets/tools/iReader.svg?raw')
      },
      {
        name: 'ğŸ“· Fuji XT30-II',
        description: 'æ—¥å¸¸ä½¿ç”¨ç›¸æœº',
        href: 'https://www.fujifilm-x.com/zh-cn/products/cameras/x-t30-ii/',
        icon: import('@/assets/tools/fuji.svg?raw')
      }
    ]}
  />


  {/* ç¤¾äº¤åª’ä½“éƒ¨åˆ† */}
  <h2 id='social-networks'>Social Networks ç¤¾äº¤åª’ä½“</h2>
  <p>
    ğŸ‘ æ¬¢è¿å…³æ³¨ï½æœ‰ä»€ä¹ˆæƒ³è¯´çš„ï¼Œä¹Ÿå¯ä»¥ ğŸ’¬ <a href="https://www.notion.so/joeytoday/310f5493daf44d82a0599d2c034100cb">ç»™æˆ‘ç•™è¨€</a>
  </p>

  <FriendList list={friends[3]} />

  {/* ç¢ç¢å¿µéƒ¨åˆ† */}
  <h2 id='gossips'>Gossips ç¢ç¢å¿µ</h2>
  <Collapse title='ç¢ç¢å¿µ'>
    å…¶å®è¿™é‡Œçš„æ–‡å­—åªæ˜¯ä¸ºäº†å‡‘è¿™ä¸ªæ¨¡å—ï¼Œå˜¿å˜¿ï¼Œçœ‹æ¥ä½ æ‰“å¼€äº†è¿™é‡Œ ğŸ˜Š
  </Collapse>

  {/* å…³äºåšå®¢éƒ¨åˆ† */}
  <h2 id='about-blog'>About Blog å…³äºæ­¤åšå®¢</h2>
  <p>
    æœ¬ç«™å‡ºäºæˆ‘ä¸€æ—¶çš„çƒ­æƒ…å»ºç«‹ï¼Œç†¬äº†ä¸¤ä¸ªé€šå®µç»ˆäºåˆæ­¥å®Œæˆäº†ï¼Œå¸Œæœ›èƒ½æˆä¸ºæˆ‘è®°å½•ç”Ÿæ´»çš„å¼€å§‹ã€‚</br>
    æœ‰ç‚¹ç±»ä¼¼åƒç¦§å¹´ä»£çš„äº’è”ç½‘ç²¾ç¥ï¼Œå¼€æºçš„ã€äº’è”çš„ï¼Œç°åœ¨æƒ³æ¥æœ‰ç‚¹æµªæ¼«ï½</br>
    æ­å»ºæœ‰ç‚¹è¾›è‹¦ï¼Œä½†è¿‡ç¨‹å¾ˆå¼€å¿ƒï¼Œå¸Œæœ›å„ä½ç½‘å‹ä¹Ÿé˜…è¯»å¼€å¿ƒï¼ğŸ‰ æ’’èŠ±
  </p>

  <Collapse title='Website history'>
    <Timeline events={linksConf.logbook} />
  </Collapse>
  

  {/* è¯„è®ºç³»ç»Ÿ */}
  <Comment slot='bottom' />

  {/* æ ¸å¿ƒï¼šCSSåª’ä½“æŸ¥è¯¢ - ç§»åŠ¨ç«¯éšè—éŸ³ä¹æ’­æ”¾å™¨ */}
  <style>
    /* å±å¹•å®½åº¦ â‰¤ 768pxï¼ˆæ‰‹æœºç«¯ï¼‰æ—¶ï¼Œéšè—æ•´ä¸ªéŸ³ä¹æ’­æ”¾å™¨å®¹å™¨ */
    @media (max-width: 768px) {
      .media-player-container {
        display: none !important; /* !important ç¡®ä¿ä¸è¢«å…¶ä»–æ ·å¼è¦†ç›– */
      }
    }

    /* å±å¹•å®½åº¦ > 768pxï¼ˆPCç«¯/å¹³æ¿æ¨ªå±ï¼‰æ—¶ï¼Œæ­£å¸¸æ˜¾ç¤ºï¼ˆé»˜è®¤æ ·å¼ï¼Œå¯çœç•¥ï¼‰ */
    @media (min-width: 769px) {
      .media-player-container {
        display: block;
      }
    }
  </style>
</PageLayout>